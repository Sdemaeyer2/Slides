<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>GKN 2021-2022: C2</title>
    <meta charset="utf-8" />
    <script src="libs/header-attrs-2.11/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
    <link rel="stylesheet" href="extra.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">

class: title-slide, center, middle

&lt;style&gt;
.center2 {
  margin: 0;
  position: absolute;
  top: 50%;
  left: 50%;
  -ms-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}
&lt;/style&gt;





&lt;style type="text/css"&gt;
.right-column{
  padding-top: 0;
}

.remark-code, .remark-inline-code { font-family: 'Source Code Pro', 'Lucida Console', Monaco, monospace;
                                    font-size: 75%;
                                  }


&lt;/style&gt;


&lt;div class="my-logo-left"&gt; &lt;img src="img/UA-eng-hor-1-RGB.jpg" width="90%"/&gt; &lt;/div&gt;


# GKN - Contactmoment 2
.font160[
.SW-greenD[Structurele Vergelijkingsmodellen (vervolg)] 
]
Sven De Maeyer &amp; Bea Mertens

.font80[
.UA-red[
21/10/2021
]
]

---
class: inverse-green, center, middle

# Herhaling contactmoment 1

*Be Kind and Rewind*

---

## Een echt padmodel - Visueel

&lt;img src="Fig/Padmodel_PIRLS_M2.jpg" width="75%" height="75%" /&gt;

---
## Een echt padmodel - lavaan


```r
PIRLS_M2 &lt;- ' Leesvaardigheid ~ Motivatie + Zelfvertrouwen 
              Motivatie       ~ Leesplezier + Stimuleren
              Zelfvertrouwen  ~ Leesplezier + Stimuleren
              Motivatie       ~~ Zelfvertrouwen'

Fit_PIRLS_M2 &lt;- sem(PIRLS_M2, fixed.x = F, data = Vlaanderen)

summary(Fit_Pirls_M2, standardized = T, rsq = T)
```

---

## Een echt padmodel - Resultaten

&lt;img src="Fig/Output_pad_A2.png" width="50%" height="50%" /&gt;

---

## Een echt padmodel - Resultaten visueel

&lt;img src="Fig/Padmodel_PIRLS_M2_resultaten.jpg" width="75%" height="75%" /&gt;

---

## Hoe goed is dat padmodel?

Andere logica dan bij regressieanalyse...

&lt;br&gt;

- Geobserveerde variantie-covariantiematrix wordt vergeleken met verwachte variantie-covariantiematrix  (cfr. kruistabellen)
       
- Hoe verschillend zijn beiden? (Waarbij we 'hopen' dat het verschil zo klein mogelijk is) 
       
- .SW-greenD[FIT INDICES!]

---

## Fit indices

Onderstaande tabel geeft een overzicht van de fit indices die we hanteren

&lt;br&gt;

.center2[
| Fit Index           | Wanneer ok? |
|:--------------------|:-------------------------------------------|
| `\(Chi^2\)` - toets     |  Hoe lager, hoe beter ( `\(p&gt;0.05\)` )         |
| CFI                 |  Goed model `\(CFI &gt; 0.95\)`                  | 
| RMSEA               |  Goed: `\(\le 0.05\)` aanvaardbaar: `\(\le 0.08\)` | 
]


---

## Een echt padmodel - Model fit

&lt;img src="Fig/OutputSEM2.png" width="40%" height="40%" /&gt;

---
class: inverse-green, center, middle

# Confirmatieve Factor Analyse (CFA)

*Laat ons theorie de voorrang geven*



---

## Meervoudige metingen

*Ik geef les in een anderstalige context …*

1. omdat ik er graag mee bezig ben.
2. omdat anderen dit van mij verwachten.
3. omdat ik het erg boeiend vind.
4. opdat anderen me vaardig zouden vinden.
5. omdat ik nieuwe zaken wil leren.
6. omdat anderen (collega’s/school/directie) mij daartoe verplichten.
7. omdat het me erg interesseert.
8. omdat ik me schuldig voel als ik het niet doe.
9. omdat ik het leuk vind om met anderstalige leerlingen te werken.
10. omdat ik wil dat anderen me een goede leerkracht vinden.
11. omdat ik me beschaamd voel als ik het niet doe.
12. omdat ik ervoor kies om met anderstalige leerlingen te werken.
13. omdat dit voor mij persoonlijk een belangrijke doelstelling is. 
14. omdat ik dit zelf erg waardevol vind om te doen.
15. ik weet niet waarom, ik zie niet welk verschil dit uitmaakt.

---
## Zelfdeterminatie theorie



- Intrinsieke motivatie: items 1, 3, 7 en 9

&lt;br&gt;

- Geïdentificeerde motivatie: items 5, 12, 13 en 14

&lt;br&gt;

- Geïntrojecteerde motivatie: items 4, 8, 10 en 12

&lt;br&gt;

- Externe motivatie: items 2 en 6

&lt;br&gt;

- Amotivatie: item 15


---

## Manifeste en Latente variabelen

Intrinsieke motivatie is .UA-red[**niet direct waarneembaar**] en vertaalbaar in een betrouwbaar cijfer


= .SW-greenD[**LATENTE VARIABELE**]

&lt;br&gt;
&lt;br&gt;

Wel kunnen we beroep doen op ‘indicatoren’ die .UA-red[**wel rechtstreeks meetbaar**] zijn


= .SW-greenD[**MANIFESTE VARIABELEN**]

---

## Theoriegedreven vs. datagedreven

We deden beroep op je persoonlijke theorie over ‘motivatie’ 

= .UA-red[**theoriegedreven**] wijze om latente variabelen te onderscheiden

&lt;br&gt;

PCA en EFA (zie MOB) daarentegen zijn .UA-red[**datagedreven**] 

= op basis van aanwezige samenhang in de data ga je op zoek naar onderliggende componenten (latente variabelen)

---

## PCA model

.pull-left[

&lt;img src="Fig/PCA_model.jpg" width="75%" height="75%" /&gt;

]  

.pull-right[
- Evenveel componenten als manifeste variabelen

- Alle manifeste variabelen laden op alle componenten

- Componenten zijn orthogonaal (= hangen niet samen) (maar niet-orthogonale rotatie is mogelijk)

- Geen meetfouten

- .SW-greenD[DATAGEDREVEN]
]       

---

## EFA model

.pull-left[

&lt;img src="Fig/EFA_model.jpg" width="75%" height="75%" /&gt;

]

.pull-right[

- Minder factoren dan manifeste variabelen

- Alle manifeste variabelen laden op alle factoren

- Factoren zijn orthogonaal (maar niet-orthogonale rotatie is mogelijk)

- Wel meetfouten

- .SW-greenD[DATAGEDREVEN]
]

---

## CFA Model

.pull-left[

&lt;img src="Fig/CFA_model.jpg" width="75%" height="75%" /&gt;

]

.pull-right[
- Minder factoren dan manifeste variabelen

- Niet alle manifeste variabelen laden op alle factoren

- Factoren kunnen correleren

- Wel meetfouten

- .SW-greenD[THEORIEGEDREVEN]
]

---

## CFA voorbeeld: Doorlichting.RData

&lt;img src="Fig/Items_Amy.jpg" width="55%" height="55%" /&gt;

---

## CFA voorbeeld Doorlichting.RData - lavaan


```r
# Model definiëren

Feedback_CFA1 &lt;- '
 Utility =~ FB_Utility1 + FB_Utility2 + FB_Utility3 + FB_Utility4
 Account =~ FB_Account1 + FB_Account2 + FB_Account3 + FB_Account4
 Selfeff =~ FB_Selfeff1 + FB_Selfeff2 + FB_Selfeff3 + FB_Selfeff4
'

# Model schatten

Fit_Feedback_CFA1 &lt;- cfa(Feedback_CFA1, data = Doorlichting )

# Resultaten opvragen

summary(Fit_Feedback_CFA1, standardized = T, fit.measures = T)
```



---

## CFA voorbeeld Doorlichting.RData - Model Fit


```r
fitMeasures(Fit_Feedback_CFA1, 
            c("npar","chisq","df","pvalue","cfi","rmsea"))
```

```
##    npar   chisq      df  pvalue     cfi   rmsea 
##  27.000 169.802  51.000   0.000   0.913   0.090
```

---

## CFA voorbeeld Doorlichting.RData - Parameterschattingen

&lt;img src="Fig/CFA_Model1_Resultaten.jpg" width="50%" height="50%" /&gt;

---
class: inverse-green, center, middle


# Modification Indices
*Wat als de fit toch niet 'je dat' is?*

---

## Wat als een model niet goed fit?

Het pad van .UA-red[zuiver theoriegedreven] verlaten! 

&lt;br&gt;

`\(\rightarrow\)` Op zoek naar modelverbetering met minimale aanpassingen

`\(\rightarrow\)` Nood aan informatie! 

---

## Modification indices

Als je een model 'tekent' zie je pijlen, maar sommige pijlen ontbreken:

`\(\rightarrow\)` Samenhang tussen items

`\(\rightarrow\)` Lading van een item op een tweede factor

&lt;br&gt;
&gt; Modification indices geven per ontbrekende pijl (= verband / effect / lading) weer hoe sterk model fit zou verbeteren indien je die pijl zou opnemen

&lt;br&gt;
Die pijl die het model het **sterkst zou verbeteren** .UA-rood[EN] **inhoudelijk** steek houdt, kan worden toegevoegd aan het model

---

## Modification indices in R

Via het commando `modindices( )` 

&lt;br&gt;

Maak gebruik van het argument `sort = T` om ze te sorteren van hoog naar laag

&lt;br&gt;

Door dit nog een keer binnen een andere functie `head(..., 10)` te zetten, krijg je de 10 hoogste waarden zien


```r
head(modindices(Fit_Feedback_CFA1, sort = T),10)
```
---

## CFA voorbeeld Doorlichting.RData - Modification indices

.pull-left[
.footnotesize[

```r
head(modindices(Fit_Feedback_CFA1, sort = T),10)
```

```
##             lhs op         rhs     mi    epc sepc.lv sepc.all sepc.nox
## 116 FB_Selfeff1 ~~ FB_Selfeff3 30.233  0.372   0.372    0.648    0.648
## 44      Account =~ FB_Selfeff2 23.990  0.458   0.233    0.309    0.309
## 55  FB_Utility1 ~~ FB_Utility2 20.685  0.215   0.215    0.310    0.310
## 118 FB_Selfeff2 ~~ FB_Selfeff3 20.682 -0.170  -0.170   -0.441   -0.441
## 117 FB_Selfeff1 ~~ FB_Selfeff4 18.373 -0.214  -0.214   -0.405   -0.405
## 57  FB_Utility1 ~~ FB_Utility4 16.076 -0.165  -0.165   -0.320   -0.320
## 45      Account =~ FB_Selfeff3 11.993 -0.479  -0.243   -0.214   -0.214
## 108 FB_Account3 ~~ FB_Selfeff2 11.115  0.068   0.068    0.251    0.251
## 119 FB_Selfeff2 ~~ FB_Selfeff4  9.832  0.090   0.090    0.254    0.254
## 114 FB_Account4 ~~ FB_Selfeff4  9.801 -0.127  -0.127   -0.208   -0.208
```
]
]

.pull-right[

- Samenhang tussen `FB_Selfeff1` en `FB_Selfeff3` wordt gesuggereerd

- Chi-kwadraat zou met 30.23 eenheden dalen

- kolom `sepc.all` leert dat het een positieve samenhang zou zijn (0.65). Let op! Dat is een schatting.
]

---

## CFA voorbeeld Doorlichting.RData - lavaan (model 2)



```r
# Model definiëren

Feedback_CFA2 &lt;- '
 Utility =~ FB_Utility1 + FB_Utility2 + FB_Utility3 + FB_Utility4
 Account =~ FB_Account1 + FB_Account2 + FB_Account3 + FB_Account4
 Selfeff =~ FB_Selfeff1 + FB_Selfeff2 + FB_Selfeff3 + FB_Selfeff4
 FB_Selfeff1 ~~ FB_Selfeff3
'

# Model schatten

Fit_Feedback_CFA2 &lt;- cfa(Feedback_CFA2, data = Doorlichting )

# Resultaten opvragen

summary(Fit_Feedback_CFA2, standardized = T, fit.measures = T)
```



---

## CFA voorbeeld Doorlichting.RData - Fit measures (model 2)


```r
fitMeasures(Fit_Feedback_CFA2, 
            c("npar","chisq","df","pvalue","cfi","rmsea"))
```

```
##    npar   chisq      df  pvalue     cfi   rmsea 
##  28.000 141.796  50.000   0.000   0.933   0.080
```

---

## CFA voorbeeld PIRLS - Parameterschattingen (model 2)

&lt;img src="Fig/CFA_Model2_Resultaten.jpg" width="50%" height="50%" /&gt;

---
## Is het aangepaste model echt beter?



```r
anova(Fit_Feedback_CFA1, Fit_Feedback_CFA2)
```

```
Chi-Squared Difference Test

                  Df    AIC    BIC Chisq Chisq diff Df diff Pr(&gt;Chisq)    
Fit_Feedback_CFA2 50 8517.3 8620.0 141.8                                  
Fit_Feedback_CFA1 51 8543.3 8642.3 169.8     28.006       1   1.21e-07 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
```

---
## Verdere werkwijze

Stapsgewijs te werk gaan:

1. Modification indices bekijken en 1 aanpassing maken;
2. Model opnieuw schatten met die aanpassing erbij;
3. Beter model?
3. Indien fit nog niet goed, opnieuw modification indices bekijken;
4. Eventueel nieuwe aanpassing toepassen;
5. Model fit bekijken van nieuwer model;
6. ...

---
class: inverse-green, middle, center

# Andere SEM modellen

---

## Regressiemodel met latente variabelen

&lt;img src="Fig/Regressiemodel_Latente_Variabelen.jpg" width="60%" height="60%" /&gt;

---
name: regressiemodel1

## Regressiemodel met latente variabelen





```r
Regmodel_PIRLS_Latent &lt;- '
        Reading_Proficiency =~  ASRLIT01 + ASRINF01 + ASRIIE01 + ASRRSI01
        LikeRead =~ LikeRead1 + LikeRead2 + LikeRead3 + LikeRead4 + LikeRead5 + LikeRead6 + LikeRead7 + LikeRead8
        ConfRead =~ ConfRead1 + ConfRead2 + ConfRead3 + ConfRead4 + ConfRead5 + ConfRead6
        Reading_Proficiency ~ LikeRead + ConfRead'

Vlaanderen_1_2_3$ASRLIT01 &lt;- Vlaanderen_1_2_3$ASRLIT01/100
Vlaanderen_1_2_3$ASRINF01 &lt;- Vlaanderen_1_2_3$ASRINF01/100
Vlaanderen_1_2_3$ASRIIE01 &lt;- Vlaanderen_1_2_3$ASRIIE01/100
Vlaanderen_1_2_3$ASRRSI01 &lt;- Vlaanderen_1_2_3$ASRRSI01/100

Fit_Regmodel &lt;- sem(Regmodel_PIRLS_Latent, data = Vlaanderen_1_2_3)

summary(Fit_Regmodel, standardized = T, fit.measures = T)
```

.footnote[Op de achtergrond zijn variabelenamen veranderd [&lt;i&gt; zie appendix1&lt;/i&gt;](#appendix1)]
---
## Regressiemodel met latente variabelen


```
##     npar    chisq       df   pvalue      cfi    rmsea 
##   39.000 4828.206  132.000    0.000    0.909    0.086
```


---

## Regressiemodel met latente variabelen

&lt;img src="Fig/PIRLS_SEM_Resultaten_Schattingen.jpg" width="45%" height="45%" /&gt;

---
class: inverse-red, middle, center

# Time to pRactice!

**Oefeningen en respons** terug te vinden op BB

---
class: inverse-blue, middle, center

# Appendix

---
name: appendix1
## Code op de achtergrond om variabelenamen uit PIRLS te verandere



```r
Vlaanderen_1_2_3$LikeRead1 &lt;- Vlaanderen_1_2_3$ASBR06A
Vlaanderen_1_2_3$LikeRead2 &lt;- Vlaanderen_1_2_3$ASBR06B
Vlaanderen_1_2_3$LikeRead3 &lt;- Vlaanderen_1_2_3$ASBR06C
Vlaanderen_1_2_3$LikeRead4 &lt;- Vlaanderen_1_2_3$ASBR06D
Vlaanderen_1_2_3$LikeRead5 &lt;- Vlaanderen_1_2_3$ASBR06E
Vlaanderen_1_2_3$LikeRead6 &lt;- Vlaanderen_1_2_3$ASBR06F
Vlaanderen_1_2_3$LikeRead7 &lt;- Vlaanderen_1_2_3$ASBR06G
Vlaanderen_1_2_3$LikeRead8 &lt;- Vlaanderen_1_2_3$ASBR06H
Vlaanderen_1_2_3$ConfRead1 &lt;- Vlaanderen_1_2_3$ASBR07A
Vlaanderen_1_2_3$ConfRead2 &lt;- Vlaanderen_1_2_3$ASBR07B
Vlaanderen_1_2_3$ConfRead3 &lt;- Vlaanderen_1_2_3$ASBR07C
Vlaanderen_1_2_3$ConfRead4 &lt;- Vlaanderen_1_2_3$ASBR07D
Vlaanderen_1_2_3$ConfRead5 &lt;- Vlaanderen_1_2_3$ASBR07E
Vlaanderen_1_2_3$ConfRead6 &lt;- Vlaanderen_1_2_3$ASBR07F
```

.footnote[ [&lt;i&gt; Terug naar slide met code&lt;/i&gt;](#regressiemodel1)]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
